% !TeX program = xelatex
\documentclass[11pt,a4paper,table,answers]{exam} % <== Answers are printed
%\documentclass[11pt,a4paper,table]{exam} % <== Answers are NOT printed

\usepackage[spanish]{babel}
\selectlanguage{spanish}
\usepackage[utf8]{inputenc}
\usepackage{amssymb}

\usepackage{graphicx}
\usepackage{adjustbox} % Some graphs were too wide

\usepackage{xcolor} % table option is passed as documentclass option
\usepackage{booktabs}
\colorlet{azul}{blue!40!black}

\newcommand{\h}[1]{\ifprintanswers\textcolor{azul}{\bf#1}\else{\phantom{\bf#1}}\fi}

\newcommand{\myincludegraphics}[1]{%
\begin{center}
\begin{adjustbox}{max size={\textwidth}{\textheight}}
    \includegraphics{#1}
\end{adjustbox}
\end{center}
} % /myincludegraphics

\newlength{\graphicheigth}
\newsavebox{\graphicbox}
\newcommand{\myincludegraphicssol}[1]{%
    \sbox{\graphicbox}{%
        \begin{adjustbox}{max size={\textwidth}{\textheight}}
            \includegraphics{#1}
        \end{adjustbox}
    }
    \settoheight{\graphicheigth}{\usebox{\graphicbox}}
    \addtolength{\graphicheigth}{4ex} % increase a litle bit the heigth
    \ifprintanswers
        \begin{center}
            \usebox{\graphicbox}
        \end{center} 
    \else
        \makeemptybox{\graphicheigth}
    \fi
}

\begin{document}



\paragraph{1.-}\label{p1}
Completa el árbol sintáctico siguiendo el algoritmo de Aho-Sethi-Ullman para la expresión regular:
\[
    ((a|b^*)a^*c)^*
\]
    \myincludegraphics{}
    
\rowcolors{2}{gray!25}{white}
\begin{tabular} {c@{\hspace{4mm}}c@{\hspace{4mm}}c@{\hspace{4mm}}c}
\toprule % =============================
Nodo & ¿Anulable? & Primera-pos & Última-pos\\ 
\midrule %-------------------------------
A & \h{No} & \h{1-5} & \h{5}\\
B & \h{Sí} & \h{1-4} & \h{4}\\
C & \h{No} & \h{5} & \h{5}\\
D & \h{No} & \h{1-4} & \h{4}\\
E & \h{Sí} & \h{1-3} & \h{1-3}\\
F & \h{No} & \h{4} & \h{4}\\
G & \h{Sí} & \h{1, 2} & \h{1, 2}\\
H & \h{Sí} & \h{3} & \h{3}\\
I & \h{No} & \h{1} & \h{1}\\
J & \h{Sí} & \h{2} & \h{2}\\
K & \h{No} & \h{3} & \h{3}\\
L & \h{No} & \h{2} & \h{2}\\
\bottomrule % =============================
\end{tabular}

\paragraph{2.-}\label{p2}
Completa el árbol sintáctico siguiendo el algoritmo de Aho-Sethi-Ullman para la expresión regular:
\[
    (a|b)^*a(a|b)(a|b)
\]
    \myincludegraphics{}
    
\rowcolors{2}{gray!25}{white}
\begin{tabular} {c@{\hspace{4mm}}c@{\hspace{4mm}}c@{\hspace{4mm}}c}
\toprule % =============================
Nodo & ¿Anulable? & Primera-pos & Última-pos\\ 
\midrule %-------------------------------
A & \h{No} & \h{1-3} & \h{8}\\
B & \h{No} & \h{1-3} & \h{6, 7}\\
C & \h{No} & \h{8} & \h{8}\\
D & \h{No} & \h{1-3} & \h{4, 5}\\
E & \h{No} & \h{6, 7} & \h{6, 7}\\
F & \h{No} & \h{1-3} & \h{3}\\
G & \h{No} & \h{4, 5} & \h{4, 5}\\
H & \h{No} & \h{6} & \h{6}\\
I & \h{No} & \h{7} & \h{7}\\
J & \h{Sí} & \h{1, 2} & \h{1, 2}\\
K & \h{No} & \h{3} & \h{3}\\
L & \h{No} & \h{4} & \h{4}\\
M & \h{No} & \h{5} & \h{5}\\
N & \h{No} & \h{1, 2} & \h{1, 2}\\
O & \h{No} & \h{1} & \h{1}\\
P & \h{No} & \h{2} & \h{2}\\
\bottomrule % =============================
\end{tabular}

\end{document}
