% !TeX program = xelatex
\documentclass[11pt,a4paper,table,answers]{exam} % <== Answers are printed
%\documentclass[11pt,a4paper,table]{exam} % <== Answers are NOT printed

\usepackage[spanish]{babel}
\selectlanguage{spanish}
\usepackage[utf8]{inputenc}
\usepackage{amssymb}

\usepackage{graphicx}
\usepackage{adjustbox} % Some graphs were too wide

\usepackage{xcolor} % table option is passed as documentclass option
\usepackage{booktabs}
\colorlet{azul}{blue!40!black}

\newcommand{\h}[1]{\ifprintanswers\textcolor{azul}{\bf#1}\else{\phantom{\bf#1}}\fi}

\newcommand{\myincludegraphics}[1]{%
\begin{center}
\begin{adjustbox}{max size={\textwidth}{\textheight}}
    \includegraphics{#1}
\end{adjustbox}
\end{center}
} % /myincludegraphics

\newlength{\graphicheigth}
\newsavebox{\graphicbox}
\newcommand{\myincludegraphicssol}[1]{%
    \sbox{\graphicbox}{%
        \begin{adjustbox}{max size={\textwidth}{\textheight}}
            \includegraphics{#1}
        \end{adjustbox}
    }
    \settoheight{\graphicheigth}{\usebox{\graphicbox}}
    \addtolength{\graphicheigth}{4ex} % increase a little bit the height
    \ifprintanswers
        \begin{center}
            \usebox{\graphicbox}
        \end{center} 
    \else
        \makeemptybox{\graphicheigth}
    \fi
}

\begin{document}



\paragraph{1.-}\label{p1}
Apply the Aho-Sethi-Ullman algorithm to obtain the \emph{followpos} table and the transition function of the DFA that recognizes the language defined by the following regular expression:
\[
    ((a|b^*)a^*c)^*
\]
~\\
Augmented regular expression: \h{$ ((a|b^*)\cdot a^*\cdot c)^*\cdot \$  $} \\

\myincludegraphicssol{}
\rowcolors{2}{gray!25}{white}
\begin{tabular} {c@{\hspace{4mm}}l}
\toprule % =============================
$n$ & \emph{Followpos}($n$) \\
\midrule %-------------------------------
1 & \h{3, 4} \\ 
2 & \h{2-4} \\ 
3 & \h{3, 4} \\ 
4 & \h{1-5} \\ 
5 & \h{$\varnothing$} \\ 
\bottomrule % =============================
\end{tabular}
\quad
\rowcolors{2}{gray!25}{white}
\begin{tabular} {c@{\hspace{4mm}}ccc@{\hspace{4mm}}l}
\toprule % ============================= 
$\mathcal{Q}$ & a & b & c & \emph{Positions}\\ 
\midrule %-------------------------------
\h{(A)} & \h{B} & \h{C} & \h{A} & \h{1-5}\\ 
\h{B} & \h{B} & \h{D} & \h{A} & \h{3, 4}\\ 
\h{C} & \h{B} & \h{C} & \h{A} & \h{2-4}\\ 
\h{D} & \h{D} & \h{D} & \h{D} & \h{$\varnothing$}\\ 
\bottomrule % =============================
\end{tabular}

\paragraph{2.-}\label{p2}
Apply the Aho-Sethi-Ullman algorithm to obtain the \emph{followpos} table and the transition function of the DFA that recognizes the language defined by the following regular expression:
\[
    (a|b)^*a(a|b)(a|b)
\]
~\\
Augmented regular expression: \h{$ (a|b)^*\cdot a\cdot (a|b)\cdot (a|b)\cdot \$  $} \\

\myincludegraphicssol{}
\rowcolors{2}{gray!25}{white}
\begin{tabular} {c@{\hspace{4mm}}l}
\toprule % =============================
$n$ & \emph{Followpos}($n$) \\
\midrule %-------------------------------
1 & \h{1-3} \\ 
2 & \h{1-3} \\ 
3 & \h{4, 5} \\ 
4 & \h{6, 7} \\ 
5 & \h{6, 7} \\ 
6 & \h{8} \\ 
7 & \h{8} \\ 
8 & \h{$\varnothing$} \\ 
\bottomrule % =============================
\end{tabular}
\quad
\rowcolors{2}{gray!25}{white}
\begin{tabular} {c@{\hspace{4mm}}cc@{\hspace{4mm}}l}
\toprule % ============================= 
$\mathcal{Q}$ & a & b & \emph{Positions}\\ 
\midrule %-------------------------------
\h{A} & \h{B} & \h{A} & \h{1-3}\\ 
\h{B} & \h{C} & \h{D} & \h{1-5}\\ 
\h{C} & \h{E} & \h{F} & \h{1-7}\\ 
\h{D} & \h{G} & \h{H} & \h{1-3, 6, 7}\\ 
\h{(E)} & \h{E} & \h{F} & \h{1-8}\\ 
\h{(F)} & \h{G} & \h{H} & \h{1-3, 6-8}\\ 
\h{(G)} & \h{C} & \h{D} & \h{1-5, 8}\\ 
\h{(H)} & \h{B} & \h{A} & \h{1-3, 8}\\ 
\bottomrule % =============================
\end{tabular}

\end{document}
